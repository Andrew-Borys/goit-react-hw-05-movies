{"version":3,"file":"static/js/HomePage.0fc78264.chunk.js","mappings":"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","sources":["Pages/HomePage/HomePage.jsx","components/Gallery/Gallery.styled.jsx","components/Button/Button.styled.jsx","components/Button/Button.jsx","components/Gallery/Gallery.jsx","services/API.jsx"],"sourcesContent":["import { useState, useEffect } from 'react';\nimport { useSearchParams } from 'react-router-dom';\nimport { getTrending } from '../../services/API';\nimport { Loading } from 'notiflix/build/notiflix-loading-aio';\nimport Gallery from 'components/Gallery';\nimport * as Scroll from 'react-scroll';\n\nconst HomePage = () => {\n  const [films, setFilms] = useState([]);\n  const [isLoading, setIsLoading] = useState(false);\n  const [searchParams, setSearchParams] = useSearchParams('');\n\n  const currentPage = searchParams.get('page') ?? 1;\n\n  const handleIncrement = e => {\n    setSearchParams({\n      page: Number(currentPage) + 1,\n    });\n    Scroll.animateScroll.scrollToTop();\n  };\n\n  const handleDecrement = e => {\n    setSearchParams({\n      page: Number(currentPage) - 1,\n    });\n    Scroll.animateScroll.scrollToTop();\n  };\n\n  useEffect(() => {\n    setIsLoading(true);\n    getTrending(currentPage)\n      .then(response => {\n        setFilms(response.results);\n        setIsLoading(false);\n      })\n      .catch(error => {\n        console.log(error);\n        setIsLoading(false);\n      });\n  }, [currentPage]);\n\n  return (\n    <>\n      <h1>Trending today</h1>\n      {isLoading && Loading.dots('Loading...')}\n      {!isLoading && Loading.remove()}\n      {films && (\n        <Gallery\n          films={films}\n          page={Number(currentPage)}\n          handleDecrement={handleDecrement}\n          handleIncrement={handleIncrement}\n        />\n      )}\n    </>\n  );\n};\n\nexport default HomePage;\n","import styled from 'styled-components';\n\nexport const FilmList = styled.ul`\n  display: grid;\n  max-width: calc(100vw - 30px);\n  grid-template-columns: repeat(auto-fill, minmax(230px, 1fr));\n  gap: 30px;\n  margin: 0px auto;\n  padding: 15px 0px 0px;\n  list-style: none;\n  margin-bottom: 20px;\n`;\n\nexport const FilmItem = styled.li`\n  display: flex;\n  flex-direction: column;\n  height: 100%;\n  width: 100%;\n  border-radius: 5px;\n  overflow: hidden;\n  background-color: #bdb9a6;\n  box-shadow: -2px -2px 7px rgb(109, 109, 109);\n  transition: transform 300ms cubic-bezier(0.165, 0.84, 0.44, 1);\n  :hover {\n    transform: scale(1.03);\n  }\n`;\n\nexport const FilmImg = styled.img`\n  display: block;\n  width: 100%;\n  height: 85%;\n  object-fit: cover;\n`;\n\nexport const ButtonsWrapper = styled.div`\n  margin-left: auto;\n  margin-left: auto;\n  display: flex;\n  justify-content: center;\n`;\n","import styled from 'styled-components';\n\nexport const Btn = styled.button`\n  margin: auto;\n  padding: 8px 16px;\n  border-radius: 2px;\n  background-color: #3f51b5;\n  transition: all 250ms cubic-bezier(0.4, 0, 0.2, 1);\n  text-align: center;\n  display: inline-block;\n  color: #fff;\n  border: 0;\n  text-decoration: none;\n  cursor: pointer;\n  font-family: inherit;\n  font-size: 18px;\n  line-height: 24px;\n  font-style: normal;\n  font-weight: 500;\n  width: 180px;\n  box-shadow: 0px 3px 1px -2px rgba(0, 0, 0, 0.2),\n    0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12);\n\n  &:hover,\n  &:focus {\n    background-color: #303f9f;\n  }\n\n  &:active {\n    box-shadow: 0px 0px 20px 2px rgba(0, 0, 0, 0.62);\n  }\n`;\n","import PropTypes from 'prop-types';\nimport { Btn } from './Button.styled';\n\nconst Button = ({ title, onClick }) => {\n  return (\n    <Btn type=\"button\" onClick={onClick}>\n      {title}\n    </Btn>\n  );\n};\n\nButton.propTypes = {\n  title: PropTypes.string,\n  onClick: PropTypes.func,\n};\n\nexport default Button;\n","import PropTypes from 'prop-types';\nimport { Link, useLocation } from 'react-router-dom';\nimport { FilmList, FilmItem, FilmImg, ButtonsWrapper } from './Gallery.styled';\nimport Button from '../Button';\n\nconst Gallery = ({ films, page, handleIncrement, handleDecrement }) => {\n  const location = useLocation();\n\n  return (\n    <>\n      <FilmList>\n        {films.map(movie => (\n          <FilmItem key={movie.id} id={movie.id}>\n            <Link\n              to={\n                location.pathname === '/' ? `movies/${movie.id}` : `${movie.id}`\n              }\n              state={{\n                from: location,\n              }}\n            >\n              <FilmImg\n                src={\n                  movie.poster_path\n                    ? `https://image.tmdb.org/t/p/w500/${movie.poster_path}`\n                    : 'https://media.istockphoto.com/vectors/no-image-available-icon-vector-id1216251206?b=1&k=20&m=1216251206&s=170667a&w=0&h=z0hxu_BaI_tuMjMneE_APbnx_-R2KGPXgDjdwLw5W7o='\n                }\n                alt={movie.title || movie.name}\n              />\n              <h3 style={{ marginLeft: '15px' }}>\n                {movie.title || movie.name}\n              </h3>\n            </Link>\n          </FilmItem>\n        ))}\n      </FilmList>\n      <ButtonsWrapper>\n        {page >= 2 && (\n          <Button onClick={handleDecrement} title={'Previous page'} />\n        )}\n        {films.length >= 20 && (\n          <Button onClick={handleIncrement} title={'Next page'} />\n        )}\n      </ButtonsWrapper>\n    </>\n  );\n};\n\nGallery.propTypes = {\n  films: PropTypes.array,\n  page: PropTypes.number,\n  incrementClick: PropTypes.func,\n  decrementClick: PropTypes.func,\n};\n\nexport default Gallery;\n","import axios from 'axios';\n\naxios.defaults.baseURL = 'https://api.themoviedb.org/3/';\nconst API_key = '87ba1964cd0d4ac84a7dd149ae2711fb';\nconst type = 'movie';\n\nexport const getTrending = async page => {\n  const response = await axios.get(\n    `trending/${type}/day?api_key=${API_key}&page=${page}`\n  );\n  return response.data;\n};\n\nexport const getSearchQuery = async (query, page) => {\n  const responce = await axios.get(\n    `search/${type}?api_key=${API_key}&query=${query}&page=${page}`\n  );\n  return responce.data;\n};\n\nexport const getDetails = async id => {\n  const response = await axios.get(\n    `${type}/${id}?api_key=${API_key}&language=en-US`\n  );\n  return response.data;\n};\n\nexport const getCasts = async id => {\n  const responce = await axios.get(\n    `${type}/${id}/credits?api_key=${API_key}&language=en-US`\n  );\n  return responce.data;\n};\n\nexport const getReviews = async id => {\n  const responce = await axios.get(\n    `${type}/${id}/reviews?api_key=${API_key}&language=en-US&page=1`\n  );\n  return responce.data;\n};\n"],"names":["useState","films","setFilms","isLoading","setIsLoading","useSearchParams","searchParams","setSearchParams","currentPage","get","useEffect","getTrending","then","response","results","catch","error","console","log","Loading","Gallery","page","Number","handleDecrement","e","Scroll","handleIncrement","FilmList","styled","FilmItem","FilmImg","ButtonsWrapper","Btn","title","onClick","type","location","useLocation","map","movie","id","to","pathname","state","from","src","poster_path","alt","name","style","marginLeft","length","axios","API_key","data","getSearchQuery","query","responce","getDetails","getCasts","getReviews"],"sourceRoot":""}